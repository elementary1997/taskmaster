# Сборка инсталлятора TaskMaster

Этот каталог содержит все необходимое для создания инсталлятора Windows.

## Требования

**Ничего дополнительного устанавливать не нужно!** Инсталлятор создается с помощью Python и PyInstaller.

1. **Собранное приложение**
   - Сначала запустите: `python build_windows.py`
   - Приложение должно быть собрано в режиме `onedir` (по умолчанию)

## Сборка инсталлятора

### Автоматическая сборка (рекомендуется)

```bash
python installer/build_installer.py
```

Или напрямую:

```bash
python installer/create_installer.py
```

Скрипт автоматически:
- Создаст архив с файлами приложения
- Соберет автономный инсталлятор с помощью PyInstaller
- Создаст инсталлятор в `dist/TaskMaster-Installer-1.0.2.exe`

**Инсталлятор полностью автономный** - пользователю не нужно устанавливать никакие дополнительные программы!

### Альтернатива: Inno Setup (опционально)

Если хотите использовать Inno Setup вместо автономного инсталлятора:

```bash
set INSTALLER_TYPE=inno
python installer/build_installer.py
```

Требуется установка Inno Setup Compiler: https://jrsoftware.org/isinfo.php

## Особенности инсталлятора

- ✅ **Тихая установка** - можно использовать с параметром `/SILENT`
- ✅ **Автоматическое создание иконки на рабочем столе** (опционально)
- ✅ **Установка в Program Files**
- ✅ **Автоматическое создание ярлыка в меню Пуск**
- ✅ **Корректное удаление** при деинсталляции

## Использование тихой установки

```bash
TaskMaster-Installer-1.0.2.exe /SILENT
```

Или короткая форма:

```bash
TaskMaster-Installer-1.0.2.exe /S
```

## Структура файлов

```
installer/
├── installer.py           # Скрипт установки (упаковывается в exe)
├── create_installer.py    # Скрипт создания автономного инсталлятора
├── build_installer.py      # Универсальный скрипт сборки
├── TaskMaster.iss         # Скрипт Inno Setup (опционально)
├── README.md              # Этот файл
└── app_files.zip          # Архив с файлами приложения (создается автоматически)
```

Готовый инсталлятор будет в:
```
dist/
└── TaskMaster-Installer-1.0.2.exe
```

## Обновление версии

При обновлении версии приложения:

1. Обновите `AppVersion` в `TaskMaster.iss`
2. Обновите `OutputBaseFilename` в `TaskMaster.iss`
3. Пересоберите приложение: `python build_windows.py`
4. Пересоберите инсталлятор: `python installer/build_installer.py`
